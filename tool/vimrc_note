inoremap <c-del> <C-o>de
inoremap <c-z> <C-o>u
inoremap <c-x> <C-o>dd
inoremap <c-c> <C-o>yy
inoremap <c-v> <C-o>p
inoremap <c-k> <C-o>O
inoremap <c-j> <C-o>o
inoremap <c-h> <C-o>^
inoremap <c-l> <C-o>$

vnoremap jk <esc>
vnoremap kj <esc>

nnoremap <s-t> :vertical terminal<cr>
tnoremap <c-l> <C-w>l
split vertical terminal to left and c-l to back to editor

set splitbelow expandtab nocompatible 
nnoremap <c-l> :e ~/j/ftu_log_folder <cr> 
nnoremap <c-t> :tab ter<cr>
nnoremap <s-t> :rightb vert term <cr>

nnoremap <s-k> :!time make<cr>
nnoremap <s-j> :!cat > in<cr>
nnoremap <s-u> :!bash /home/jackcai/scripts/start_ftu.sh<cr>

tnoremap <left> <C-W>:tabprevious<CR>
tnoremap <right> <C-W>:tabnext<CR>

nnoremap <right> :tabn<cr>
nnoremap <left> :tabp<cr>

nnoremap <s-t> :tabedit<Space> 

nnoremap <F7> :!make re<cr>
nnoremap <F5> :e input.txt<cr>
inoremap <silent><expr><tab> coc#pum#visible() ? coc#pum#confirm()
                              \: "\<C-g>u\<tab>"
inoremap <silent><expr> <TAB>
      \ coc#pum#visible() ? coc#pum#next(1) :
      \ CheckBackspace() ? "\<Tab>" :
      \ coc#refresh()
inoremap <expr><S-TAB> coc#pum#visible() ? coc#pum#prev(1) : "\<C-h>"

filetype plugin indent on

set number 

call plug#begin()
Plug 'jiangmiao/auto-pairs'
Plug 'neoclide/coc.nvim', {'branch': 'release'}
call plug#end()

if exists('$TMUX')
    let &t_SI = "\<Esc>Ptmux;\<Esc>\e[6 q\<Esc>\\"
    let &t_EI = "\<Esc>Ptmux;\<Esc>\e[2 q\<Esc>\\"
else
    let &t_SI = "\e[6 q"
    let &t_EI = "\e[2 q"
endif

inoremap <up> <c-p>
inoremap <down> <c-n>

set completeopt=longest,menu
set complete+=k

colorscheme risto

nnoremap <F4> :terminal bash /home/jackcai/scripts/start_ftu.sh

inoremap { {}<left>
inoremap <expr> <CR> search('{\%#}', 'n') ? "\<CR>\<CR>\<Up>\<C-f>" : "\<CR>"
inoremap <expr> } strpart(getline('.'), col('.')-1, 1) == "}" ? "\<Right>" : "}"

inoremap ( ()<Left>
inoremap <expr> ) strpart(getline('.'), col('.')-1, 1) == ")" ? "\<Right>" : ")"

inoremap [ []<Left>
inoremap <expr> ] strpart(getline('.'), col('.')-1, 1) == "]" ? "\<Right>" : "]"


map <F4> :! . ~/ff/start_ftu.sh
map <F3> :e ~/ff/latestftulog 

command! -nargs=1 SS let @/ = '\V'.escape(<q-args>, '\')

set t_TI= t_TE=
" To fix weired charater on Ubuntu.

set splitbelow
" Set terminal bottom

let &t_SI = "\e[6 q"
" Set cursor steady line in insert mode.
let &t_EI = "\e[2 q" 
" Set cursor steady block in normal mode.

inoremap jk <esc>
inoremap kj <esc>

map <F5> :e input.txt 
map <F6> :!make 
map <F7> :q! 

nnoremap ; :

set mouse=a

set tags=./tags;/

set clipboard^=unnamed,unnamedplus " System clipboard setting

set nocompatible " 關閉 vi 相容模式
set smartindent "當在大括號中間回車的時候，他會智慧縮排，因為他知道括號中間要縮排
set autoindent

set expandtab
syntax on " 自動語法高亮
set number " 顯示行號

set t_ti= t_te=     "關閉vim後，vim的內容依然顯示在terminal上
 
set shiftwidth=2 " 設定 << 和 >> 命令移動時的寬度為 4
set softtabstop=2 " 使得按退格鍵時可以一次刪掉 4 個空格
set tabstop=2 " 設定 tab 長度為 4

set nobackup " 覆蓋檔案時不備份
set autochdir " 自動切換當前目錄為當前檔案所在的目錄
set backupcopy=yes " 設定備份時的行為為覆蓋

" Search
set ignorecase smartcase " 搜尋時忽略大小寫，但在有一個或以上大寫字母時仍保持對大小寫敏感
"set nowrapscan " 禁止在搜尋到檔案兩端時重新搜尋
set incsearch " 輸入搜尋內容時就顯示搜尋結果
set hlsearch " 搜尋時高亮顯示被找到的文字

set smartindent " 開啟新行時使用智慧自動縮排
set backspace=indent,eol,start

" Switch window
nnoremap <C-h> <C-w>h
nnoremap <C-j> <C-w>j
nnoremap <C-k> <C-w>k
nnoremap <C-l> <C-w>l

command! -nargs=1 SS let @/ = '\V'.escape(<q-args>, '\')
search without regex